#TODO switch mklink/ln betwen environments
desc "Removes old .bashrc/.vimrc and .vim files/folders in favour of links towards this folder"
task :install do
  sh "rm -f ~/.bashrc"
  sh "ln -s ~/dotfiles/.bashrc ~/.bashrc"

  #vim
  sh "rm -rf ~/.*vim*"
  sh "ln -s ~/dotfiles/vim/vimrc ~/.vimrc"
  sh "ln -s ~/dotfiles/vim ~/.vim"
  sh "sudo ln -s ~/dotfiles/git/git-completion.bash /etc/bash_completion.d/git-completion"

  #fonts
  sh "rm -rf ~/.fonts"
  sh "sudo ln -s ~/dotfiles/fonts ~/.fonts"
end

namespace :irb do
  desc "Links irbrc to ~/.irbrc"
  task :install do
    sh "del ~/.irbrc" if File.exists? "~/.irbrc"
    sh "mklink \".irbrc\" \"~/.irbrc\""
  end
end
